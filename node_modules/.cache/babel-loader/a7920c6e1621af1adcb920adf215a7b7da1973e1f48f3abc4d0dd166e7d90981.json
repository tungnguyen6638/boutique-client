{"ast":null,"code":"import { redirect } from \"react-router-dom\";\n\n// Lấy cookie theo tên\nexport function getCookie(cname) {\n  let name = cname + \"=\";\n  const ca = document.cookie.split(\";\");\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) === \" \") {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) === 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n}\n\n// Hàm để phục vụ việc lấy user trong cookies\nexport function getUser() {\n  const currentUser = getCookie(\"username\").length !== 0 || getCookie(\"email\").length !== 0 ? {\n    username: getCookie(\"username\"),\n    email: getCookie(\"email\")\n  } : null;\n  return currentUser;\n}\n\n// Hàm để kiểm tra việc có user login ko, nếu không có thì sẽ điều hướng trang đang truy cập về trang chủ\n// (Route protection)\nexport function checkAuth() {\n  const user = getUser();\n  if (user.username || user.email) {\n    return redirect(\"/\");\n  }\n  return null;\n}","map":{"version":3,"names":["redirect","getCookie","cname","name","ca","document","cookie","split","i","length","c","charAt","substring","indexOf","getUser","currentUser","username","email","checkAuth","user"],"sources":["D:/NodeJS/assignment-03/client-app/src/helper/getUser.jsx"],"sourcesContent":["import { redirect } from \"react-router-dom\";\r\n\r\n// Lấy cookie theo tên\r\nexport function getCookie(cname) {\r\n  let name = cname + \"=\";\r\n  const ca = document.cookie.split(\";\");\r\n  for (let i = 0; i < ca.length; i++) {\r\n    let c = ca[i];\r\n    while (c.charAt(0) === \" \") {\r\n      c = c.substring(1);\r\n    }\r\n    if (c.indexOf(name) === 0) {\r\n      return c.substring(name.length, c.length);\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\n\r\n// Hàm để phục vụ việc lấy user trong cookies\r\nexport function getUser() {\r\n  const currentUser =\r\n    getCookie(\"username\").length !== 0 || getCookie(\"email\").length !== 0\r\n      ? {\r\n          username: getCookie(\"username\"),\r\n          email: getCookie(\"email\"),\r\n        }\r\n      : null;\r\n\r\n  return currentUser;\r\n}\r\n\r\n// Hàm để kiểm tra việc có user login ko, nếu không có thì sẽ điều hướng trang đang truy cập về trang chủ\r\n// (Route protection)\r\nexport function checkAuth() {\r\n  const user = getUser();\r\n\r\n  if (user.username || user.email) {\r\n    return redirect(\"/\");\r\n  }\r\n  return null;\r\n}\r\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,kBAAkB;;AAE3C;AACA,OAAO,SAASC,SAASA,CAACC,KAAK,EAAE;EAC/B,IAAIC,IAAI,GAAGD,KAAK,GAAG,GAAG;EACtB,MAAME,EAAE,GAAGC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC;EACrC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,EAAE,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;IAClC,IAAIE,CAAC,GAAGN,EAAE,CAACI,CAAC,CAAC;IACb,OAAOE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MAC1BD,CAAC,GAAGA,CAAC,CAACE,SAAS,CAAC,CAAC,CAAC;IACpB;IACA,IAAIF,CAAC,CAACG,OAAO,CAACV,IAAI,CAAC,KAAK,CAAC,EAAE;MACzB,OAAOO,CAAC,CAACE,SAAS,CAACT,IAAI,CAACM,MAAM,EAAEC,CAAC,CAACD,MAAM,CAAC;IAC3C;EACF;EACA,OAAO,EAAE;AACX;;AAEA;AACA,OAAO,SAASK,OAAOA,CAAA,EAAG;EACxB,MAAMC,WAAW,GACfd,SAAS,CAAC,UAAU,CAAC,CAACQ,MAAM,KAAK,CAAC,IAAIR,SAAS,CAAC,OAAO,CAAC,CAACQ,MAAM,KAAK,CAAC,GACjE;IACEO,QAAQ,EAAEf,SAAS,CAAC,UAAU,CAAC;IAC/BgB,KAAK,EAAEhB,SAAS,CAAC,OAAO;EAC1B,CAAC,GACD,IAAI;EAEV,OAAOc,WAAW;AACpB;;AAEA;AACA;AACA,OAAO,SAASG,SAASA,CAAA,EAAG;EAC1B,MAAMC,IAAI,GAAGL,OAAO,CAAC,CAAC;EAEtB,IAAIK,IAAI,CAACH,QAAQ,IAAIG,IAAI,CAACF,KAAK,EAAE;IAC/B,OAAOjB,QAAQ,CAAC,GAAG,CAAC;EACtB;EACA,OAAO,IAAI;AACb"},"metadata":{},"sourceType":"module","externalDependencies":[]}