{"ast":null,"code":"import styles from\"./CartItem.module.css\";import{useDispatch}from\"react-redux\";import{cartActions}from\"../../store/cartSlice\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const CartItem=_ref=>{let{cart}=_ref;// Tạo dispatch\nconst dispatch=useDispatch();useEffect(()=>{// Dùng useEffect để khi quantity thay đổi thì sẽ dispatch để xóa item đi (cụ thể là khi quantity của cart = 0)\n// khi item đó bị xóa thì sẽ ko render item đó\nif(cart.quantity===0){dispatch(cartActions.deleteCart(cart));}},[cart.quantity]);// Xử lý tăng quantity\nconst increaseQuantityHanlder=()=>{// dispatch tới action updateCart của redux với payload là 1 object với những thông tin của cart này\n// nhưng quantity và total sẽ được thay đổi ( cụ thể là quantity tăng lên 1 và total sẽ\n// là quantity cũ + 1 nhân với giá tiền\ndispatch(cartActions.updateCart({...cart,quantity:+cart.quantity+1,total:cart.product.price*(+cart.quantity+1)}));};// Xử lý giảm quantity\nconst decreseQuantityHanlder=()=>{// tương tự như tăng quantity nhưng sẽ - 1 quantity đi\ndispatch(cartActions.updateCart({...cart,quantity:+cart.quantity-1,total:cart.product.price*(+cart.quantity-1)}));};// Xóa item trong cart\nconst removeHandler=()=>{// dispatch tới action deleteCart\ndispatch(cartActions.deleteCart(cart));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"\".concat(styles[\"cart-product-item\"]),children:[/*#__PURE__*/_jsx(\"td\",{className:\"\".concat(styles[\"cart-product-img\"]),children:/*#__PURE__*/_jsx(\"img\",{src:cart.product.img1,alt:cart.product.name,className:\"img-fluid \"})}),/*#__PURE__*/_jsx(\"td\",{children:cart.product.name}),/*#__PURE__*/_jsxs(\"td\",{children:[Number(cart.product.price).toLocaleString(\"de-DE\"),\" VND\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:decreseQuantityHanlder,children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-caret-left-fill\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\"})})}),/*#__PURE__*/_jsx(\"span\",{children:cart.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:increaseQuantityHanlder,children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-caret-right-fill\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\"})})})]}),/*#__PURE__*/_jsxs(\"td\",{children:[Number(cart.total).toLocaleString(\"de-DE\"),\" VND\"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:removeHandler,children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-trash\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z\"})]})})})]})});};export default CartItem;","map":{"version":3,"names":["styles","useDispatch","cartActions","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CartItem","_ref","cart","dispatch","quantity","deleteCart","increaseQuantityHanlder","updateCart","total","product","price","decreseQuantityHanlder","removeHandler","children","className","concat","src","img1","alt","name","Number","toLocaleString","onClick","xmlns","width","height","fill","viewBox","d"],"sources":["D:/ReactJS/Assignment 03/rjs-asm03/src/components/cart/CartItem.jsx"],"sourcesContent":["import styles from \"./CartItem.module.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { cartActions } from \"../../store/cartSlice\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst CartItem = ({ cart }) => {\r\n  // Tạo dispatch\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    // Dùng useEffect để khi quantity thay đổi thì sẽ dispatch để xóa item đi (cụ thể là khi quantity của cart = 0)\r\n    // khi item đó bị xóa thì sẽ ko render item đó\r\n    if (cart.quantity === 0) {\r\n      dispatch(cartActions.deleteCart(cart));\r\n    }\r\n  }, [cart.quantity]);\r\n\r\n  // Xử lý tăng quantity\r\n  const increaseQuantityHanlder = () => {\r\n    // dispatch tới action updateCart của redux với payload là 1 object với những thông tin của cart này\r\n    // nhưng quantity và total sẽ được thay đổi ( cụ thể là quantity tăng lên 1 và total sẽ\r\n    // là quantity cũ + 1 nhân với giá tiền\r\n    dispatch(\r\n      cartActions.updateCart({\r\n        ...cart,\r\n        quantity: +cart.quantity + 1,\r\n        total: cart.product.price * (+cart.quantity + 1),\r\n      })\r\n    );\r\n  };\r\n\r\n  // Xử lý giảm quantity\r\n  const decreseQuantityHanlder = () => {\r\n    // tương tự như tăng quantity nhưng sẽ - 1 quantity đi\r\n    dispatch(\r\n      cartActions.updateCart({\r\n        ...cart,\r\n        quantity: +cart.quantity - 1,\r\n        total: cart.product.price * (+cart.quantity - 1),\r\n      })\r\n    );\r\n  };\r\n\r\n  // Xóa item trong cart\r\n  const removeHandler = () => {\r\n    // dispatch tới action deleteCart\r\n    dispatch(cartActions.deleteCart(cart));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <tr className={`${styles[\"cart-product-item\"]}`}>\r\n        <td className={`${styles[\"cart-product-img\"]}`}>\r\n          <img\r\n            src={cart.product.img1}\r\n            alt={cart.product.name}\r\n            className=\"img-fluid \"\r\n          />\r\n        </td>\r\n        <td>{cart.product.name}</td>\r\n        <td>{Number(cart.product.price).toLocaleString(\"de-DE\")} VND</td>\r\n        <td>\r\n          <button onClick={decreseQuantityHanlder}>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"16\"\r\n              height=\"16\"\r\n              fill=\"currentColor\"\r\n              className=\"bi bi-caret-left-fill\"\r\n              viewBox=\"0 0 16 16\"\r\n            >\r\n              <path d=\"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\" />\r\n            </svg>\r\n          </button>\r\n          <span>{cart.quantity}</span>\r\n          <button onClick={increaseQuantityHanlder}>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"16\"\r\n              height=\"16\"\r\n              fill=\"currentColor\"\r\n              className=\"bi bi-caret-right-fill\"\r\n              viewBox=\"0 0 16 16\"\r\n            >\r\n              <path d=\"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\" />\r\n            </svg>\r\n          </button>\r\n        </td>\r\n        <td>{Number(cart.total).toLocaleString(\"de-DE\")} VND</td>\r\n        <td>\r\n          <button onClick={removeHandler}>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"16\"\r\n              height=\"16\"\r\n              fill=\"currentColor\"\r\n              className=\"bi bi-trash\"\r\n              viewBox=\"0 0 16 16\"\r\n            >\r\n              <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\" />\r\n              <path d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z\" />\r\n            </svg>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}