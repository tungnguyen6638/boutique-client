{"ast":null,"code":"import{useEffect,useState}from\"react\";import CategoriesSideBar from\"../category/CategoriesSideBar\";import SearchBar from\"../search-bar/SearchBar\";import ShopProductsList from\"./ShopProductsList\";import{useSelector}from\"react-redux\";import{useRouteLoaderData}from\"react-router-dom\";// Render trang shop\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ShopProducts=()=>{window.scrollTo(0,0);const data=useRouteLoaderData(\"root\");// Lấy category\nconst categoryState=useSelector(state=>state.category.category);// State để phục vụ việc render những product nào sau khi click vào từng mục category\nconst[productsAfterFilter,setProductsAfterFilter]=useState([...data.data]);useEffect(()=>{if(!categoryState){return;}// Nếu category = all thì set products bằng tất cả data product\nif(categoryState===\"all\"){setProductsAfterFilter(data.data);}else{// Nếu không thì filter theo category\nconst newProducts=data.data.filter(product=>product.category===categoryState);if(newProducts){setProductsAfterFilter(newProducts);}}},[categoryState,data.data]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container d-lg-flex gap-5\",children:[/*#__PURE__*/_jsx(CategoriesSideBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-fill\",children:[/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsx(ShopProductsList,{products:productsAfterFilter})]})]})});};export default ShopProducts;","map":{"version":3,"names":["useEffect","useState","CategoriesSideBar","SearchBar","ShopProductsList","useSelector","useRouteLoaderData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ShopProducts","window","scrollTo","data","categoryState","state","category","productsAfterFilter","setProductsAfterFilter","newProducts","filter","product","children","className","products"],"sources":["D:/ReactJS/Assignment 03/rjs-asm03/src/components/products/ShopProducts.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport CategoriesSideBar from \"../category/CategoriesSideBar\";\r\nimport SearchBar from \"../search-bar/SearchBar\";\r\nimport ShopProductsList from \"./ShopProductsList\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useRouteLoaderData } from \"react-router-dom\";\r\n\r\n// Render trang shop\r\nconst ShopProducts = () => {\r\n  window.scrollTo(0, 0);\r\n  const data = useRouteLoaderData(\"root\");\r\n  // Lấy category\r\n  const categoryState = useSelector((state) => state.category.category);\r\n  // State để phục vụ việc render những product nào sau khi click vào từng mục category\r\n  const [productsAfterFilter, setProductsAfterFilter] = useState([\r\n    ...data.data,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (!categoryState) {\r\n      return;\r\n    }\r\n    // Nếu category = all thì set products bằng tất cả data product\r\n    if (categoryState === \"all\") {\r\n      setProductsAfterFilter(data.data);\r\n    } else {\r\n      // Nếu không thì filter theo category\r\n      const newProducts = data.data.filter(\r\n        (product) => product.category === categoryState\r\n      );\r\n      if (newProducts) {\r\n        setProductsAfterFilter(newProducts);\r\n      }\r\n    }\r\n  }, [categoryState, data.data]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container d-lg-flex gap-5\">\r\n        <CategoriesSideBar />\r\n        <div className=\"flex-fill\">\r\n          <SearchBar />\r\n          <ShopProductsList products={productsAfterFilter} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShopProducts;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,iBAAiB,KAAM,+BAA+B,CAC7D,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,kBAAkB,KAAQ,kBAAkB,CAErD;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBACA,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzBC,MAAM,CAACC,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAC,CACrB,KAAM,CAAAC,IAAI,CAAGV,kBAAkB,CAAC,MAAM,CAAC,CACvC;AACA,KAAM,CAAAW,aAAa,CAAGZ,WAAW,CAAEa,KAAK,EAAKA,KAAK,CAACC,QAAQ,CAACA,QAAQ,CAAC,CACrE;AACA,KAAM,CAACC,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGpB,QAAQ,CAAC,CAC7D,GAAGe,IAAI,CAACA,IAAI,CACb,CAAC,CAEFhB,SAAS,CAAC,IAAM,CACd,GAAI,CAACiB,aAAa,CAAE,CAClB,OACF,CACA;AACA,GAAIA,aAAa,GAAK,KAAK,CAAE,CAC3BI,sBAAsB,CAACL,IAAI,CAACA,IAAI,CAAC,CACnC,CAAC,IAAM,CACL;AACA,KAAM,CAAAM,WAAW,CAAGN,IAAI,CAACA,IAAI,CAACO,MAAM,CACjCC,OAAO,EAAKA,OAAO,CAACL,QAAQ,GAAKF,aACpC,CAAC,CACD,GAAIK,WAAW,CAAE,CACfD,sBAAsB,CAACC,WAAW,CAAC,CACrC,CACF,CACF,CAAC,CAAE,CAACL,aAAa,CAAED,IAAI,CAACA,IAAI,CAAC,CAAC,CAE9B,mBACER,IAAA,CAAAI,SAAA,EAAAa,QAAA,cACEf,KAAA,QAAKgB,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eACxCjB,IAAA,CAACN,iBAAiB,GAAE,CAAC,cACrBQ,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBjB,IAAA,CAACL,SAAS,GAAE,CAAC,cACbK,IAAA,CAACJ,gBAAgB,EAACuB,QAAQ,CAAEP,mBAAoB,CAAE,CAAC,EAChD,CAAC,EACH,CAAC,CACN,CAAC,CAEP,CAAC,CAED,cAAe,CAAAP,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}