{"ast":null,"code":"import styles from\"./Popup.module.css\";import{Link,useRouteLoaderData}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{useEffect,useState}from\"react\";import{popupActions}from\"../../store/popupSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Popup=()=>{const productId=useSelector(state=>state.popup.productId);const dispatch=useDispatch();const data=useRouteLoaderData(\"root\");const[currentProduct,setCurrentProduct]=useState({});useEffect(()=>{// Mỗi khi render component hơajc khi các dependencies (productId, data) thay đổi thì sẽ set lại product hiện tại\n// để render. Product hiện tại là product có id bằng với item có id như trên trong list data\nsetCurrentProduct(data.data.filter(product=>product[\"_id\"][\"$oid\"]===productId&&product)[0]);},[productId,data]);const closePopupHandler=()=>{dispatch(popupActions.hidePopup());};return/*#__PURE__*/_jsx(_Fragment,{children:currentProduct&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:styles[\"overlay\"],onClick:closePopupHandler}),/*#__PURE__*/_jsx(\"div\",{className:\"p-md-5 \".concat(styles[\"current-product\"]),children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-md-flex gap-5 \".concat(styles[\"product-container\"]),children:[/*#__PURE__*/_jsx(\"button\",{onClick:closePopupHandler,className:styles[\"btn-close\"],children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-x-circle\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-50\",children:/*#__PURE__*/_jsx(\"img\",{src:currentProduct.img1,alt:\"Product detail\",className:\"img-fluid\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 \".concat(styles[\"current-product-content\"]),children:[/*#__PURE__*/_jsx(\"p\",{className:styles[\"name\"],children:currentProduct.name}),/*#__PURE__*/_jsxs(\"p\",{className:styles[\"price\"],children:[Number(currentProduct.price).toLocaleString(\"de-DE\"),\" VND\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"overflow-auto \".concat(styles[\"short-desc\"]),children:currentProduct.short_desc}),/*#__PURE__*/_jsxs(Link,{to:\"/detail/\".concat(productId),className:\"py-2 px-3 \".concat(styles[\"btn-details\"]),onClick:()=>dispatch(popupActions.hidePopup()),children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-cart3 \".concat(styles[\"icon\"]),viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l.84 4.479 9.144-.459L13.89 4zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2\"})}),\"View Details\"]})]})]})})]})});};export default Popup;","map":{"version":3,"names":["styles","Link","useRouteLoaderData","useSelector","useDispatch","useEffect","useState","popupActions","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Popup","productId","state","popup","dispatch","data","currentProduct","setCurrentProduct","filter","product","closePopupHandler","hidePopup","children","className","onClick","concat","xmlns","width","height","fill","viewBox","d","src","img1","alt","name","Number","price","toLocaleString","short_desc","to"],"sources":["D:/ReactJS/Assignment 03/rjs-asm03/src/components/popup/Popup.jsx"],"sourcesContent":["import styles from \"./Popup.module.css\";\r\nimport { Link, useRouteLoaderData } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { popupActions } from \"../../store/popupSlice\";\r\n\r\nconst Popup = () => {\r\n  const productId = useSelector((state) => state.popup.productId);\r\n  const dispatch = useDispatch();\r\n  const data = useRouteLoaderData(\"root\");\r\n  const [currentProduct, setCurrentProduct] = useState({});\r\n\r\n  useEffect(() => {\r\n    // Mỗi khi render component hơajc khi các dependencies (productId, data) thay đổi thì sẽ set lại product hiện tại\r\n    // để render. Product hiện tại là product có id bằng với item có id như trên trong list data\r\n    setCurrentProduct(\r\n      data.data.filter(\r\n        (product) => product[\"_id\"][\"$oid\"] === productId && product\r\n      )[0]\r\n    );\r\n  }, [productId, data]);\r\n\r\n  const closePopupHandler = () => {\r\n    dispatch(popupActions.hidePopup());\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {currentProduct && (\r\n        <>\r\n          <div className={styles[\"overlay\"]} onClick={closePopupHandler}></div>\r\n          <div className={`p-md-5 ${styles[\"current-product\"]}`}>\r\n            <div className={`d-md-flex gap-5 ${styles[\"product-container\"]}`}>\r\n              <button\r\n                onClick={closePopupHandler}\r\n                className={styles[\"btn-close\"]}\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"16\"\r\n                  height=\"16\"\r\n                  fill=\"currentColor\"\r\n                  className=\"bi bi-x-circle\"\r\n                  viewBox=\"0 0 16 16\"\r\n                >\r\n                  <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16\" />\r\n                  <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708\" />\r\n                </svg>\r\n              </button>\r\n              <div className=\"w-50\">\r\n                <img\r\n                  src={currentProduct.img1}\r\n                  alt=\"Product detail\"\r\n                  className=\"img-fluid\"\r\n                />\r\n              </div>\r\n              <div className={`p-3 ${styles[\"current-product-content\"]}`}>\r\n                <p className={styles[\"name\"]}>{currentProduct.name}</p>\r\n                <p className={styles[\"price\"]}>\r\n                  {Number(currentProduct.price).toLocaleString(\"de-DE\")} VND\r\n                </p>\r\n                <p className={`overflow-auto ${styles[\"short-desc\"]}`}>\r\n                  {currentProduct.short_desc}\r\n                </p>\r\n                <Link\r\n                  to={`/detail/${productId}`}\r\n                  className={`py-2 px-3 ${styles[\"btn-details\"]}`}\r\n                  onClick={() => dispatch(popupActions.hidePopup())}\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    className={`bi bi-cart3 ${styles[\"icon\"]}`}\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path d=\"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l.84 4.479 9.144-.459L13.89 4zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2\" />\r\n                  </svg>\r\n                  View Details\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}