{"ast":null,"code":"import{useSelector,useDispatch}from\"react-redux\";import{pagenationActions}from\"../../store/pagenationSlice\";import styles from\"./Pagenation.module.css\";// Component để phân trang\n// Truyền vào đối số là tổng số item, trang hiện tại và phân vùng\n// (1 phân vùng gồm 6 item nếu item nằm trong phân vùng nào là tương ứng với trang có index là phân vùng đó)\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const paging=(totalResults,currentPage,segments)=>{let pages=Math.ceil(totalResults/6);let first=false;let last=false;let tempLength=0;// Lấy khoảng cách để hiển thị trang (tối đa 5 trang)\nconst space=[];if(currentPage===1||currentPage===2||currentPage===3){// Nếu phân vùng nhỏ hơn 6 tức là chỉ có dưới 3 trang thì set khoảng cách bằng số phân vùng (số trang)\nif(segments.length<6){tempLength=segments.length;}else{tempLength=5;}for(let i=0;i<tempLength;i++){space.push(i+1);}}else if(currentPage===pages||currentPage===pages-1||currentPage===pages-2){for(let i=4;i>=0;i++){space.push(pages-i);}}else{space.push(currentPage-2);space.push(currentPage-1);space.push(currentPage);space.push(currentPage+1);space.push(currentPage+2);}if(currentPage===1){first=true;}if(currentPage===pages){last=true;}return{space,first,last};};const Pagenation=_ref=>{let{totalResults,segments}=_ref;const currentPage=useSelector(state=>state.pagenation.currentPage);const dispatch=useDispatch();const{space,first,last}=paging(totalResults,currentPage,segments);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"d-flex justify-content-end gap-3 \".concat(styles[\"pagenation-el\"]),children:[/*#__PURE__*/_jsx(\"li\",{className:\"p-2 \".concat(styles[\"btn\"],\" \").concat(first===true?styles[\"hidden\"]:\"\"),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",href:\"#\",id:\"btn-prev\",onClick:()=>{dispatch(pagenationActions.setCurrentPage(currentPage-1));window.scrollTo(0,200);},children:\"Previous\"})}),space.map((s,i)=>/*#__PURE__*/_jsx(\"li\",{className:\"py-2 px-3 \".concat(space[i]===currentPage?styles[\"disable\"]:\"\"),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",id:\"page-num\",onClick:()=>{dispatch(pagenationActions.setCurrentPage(space[i]));window.scrollTo(0,200);},children:space[i]})},segments[i])),/*#__PURE__*/_jsx(\"li\",{className:\"p-2 \".concat(styles[\"btn\"],\" \").concat(last===true?styles[\"hidden\"]:\"\"),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",id:\"btn-next\",onClick:()=>{dispatch(pagenationActions.setCurrentPage(currentPage+1));window.scrollTo(0,200);},children:\"Next\"})})]})});};export default Pagenation;","map":{"version":3,"names":["useSelector","useDispatch","pagenationActions","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","paging","totalResults","currentPage","segments","pages","Math","ceil","first","last","tempLength","space","length","i","push","Pagenation","_ref","state","pagenation","dispatch","children","className","concat","href","id","onClick","setCurrentPage","window","scrollTo","map","s"],"sources":["D:/ReactJS/Assignment 03/rjs-asm03/src/components/pagenation/Pagenation.jsx"],"sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\r\nimport { pagenationActions } from \"../../store/pagenationSlice\";\r\nimport styles from \"./Pagenation.module.css\";\r\n\r\n// Component để phân trang\r\n// Truyền vào đối số là tổng số item, trang hiện tại và phân vùng\r\n// (1 phân vùng gồm 6 item nếu item nằm trong phân vùng nào là tương ứng với trang có index là phân vùng đó)\r\nconst paging = (totalResults, currentPage, segments) => {\r\n  let pages = Math.ceil(totalResults / 6);\r\n  let first = false;\r\n  let last = false;\r\n  let tempLength = 0;\r\n\r\n  // Lấy khoảng cách để hiển thị trang (tối đa 5 trang)\r\n  const space = [];\r\n  if (currentPage === 1 || currentPage === 2 || currentPage === 3) {\r\n    // Nếu phân vùng nhỏ hơn 6 tức là chỉ có dưới 3 trang thì set khoảng cách bằng số phân vùng (số trang)\r\n    if (segments.length < 6) {\r\n      tempLength = segments.length;\r\n    } else {\r\n      tempLength = 5;\r\n    }\r\n    for (let i = 0; i < tempLength; i++) {\r\n      space.push(i + 1);\r\n    }\r\n  } else if (\r\n    currentPage === pages ||\r\n    currentPage === pages - 1 ||\r\n    currentPage === pages - 2\r\n  ) {\r\n    for (let i = 4; i >= 0; i++) {\r\n      space.push(pages - i);\r\n    }\r\n  } else {\r\n    space.push(currentPage - 2);\r\n    space.push(currentPage - 1);\r\n    space.push(currentPage);\r\n    space.push(currentPage + 1);\r\n    space.push(currentPage + 2);\r\n  }\r\n\r\n  if (currentPage === 1) {\r\n    first = true;\r\n  }\r\n\r\n  if (currentPage === pages) {\r\n    last = true;\r\n  }\r\n\r\n  return { space, first, last };\r\n};\r\n\r\nconst Pagenation = ({ totalResults, segments }) => {\r\n  const currentPage = useSelector((state) => state.pagenation.currentPage);\r\n  const dispatch = useDispatch();\r\n  const { space, first, last } = paging(totalResults, currentPage, segments);\r\n\r\n  return (\r\n    <>\r\n      <ul\r\n        className={`d-flex justify-content-end gap-3 ${styles[\"pagenation-el\"]}`}\r\n      >\r\n        <li\r\n          className={`p-2 ${styles[\"btn\"]} ${\r\n            first === true ? styles[\"hidden\"] : \"\"\r\n          }`}\r\n        >\r\n          <button\r\n            className=\"page-link\"\r\n            href=\"#\"\r\n            id=\"btn-prev\"\r\n            onClick={() => {\r\n              dispatch(pagenationActions.setCurrentPage(currentPage - 1));\r\n              window.scrollTo(0, 200);\r\n            }}\r\n          >\r\n            Previous\r\n          </button>\r\n        </li>\r\n\r\n        {space.map((s, i) => (\r\n          <li\r\n            key={segments[i]}\r\n            className={`py-2 px-3 ${\r\n              space[i] === currentPage ? styles[\"disable\"] : \"\"\r\n            }`}\r\n          >\r\n            <button\r\n              className=\"page-link\"\r\n              id=\"page-num\"\r\n              onClick={() => {\r\n                dispatch(pagenationActions.setCurrentPage(space[i]));\r\n                window.scrollTo(0, 200);\r\n              }}\r\n            >\r\n              {space[i]}\r\n            </button>\r\n          </li>\r\n        ))}\r\n\r\n        <li\r\n          className={`p-2 ${styles[\"btn\"]} ${\r\n            last === true ? styles[\"hidden\"] : \"\"\r\n          }`}\r\n        >\r\n          <button\r\n            className=\"page-link\"\r\n            id=\"btn-next\"\r\n            onClick={() => {\r\n              dispatch(pagenationActions.setCurrentPage(currentPage + 1));\r\n              window.scrollTo(0, 200);\r\n            }}\r\n          >\r\n            Next\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Pagenation;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}